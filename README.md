# Receipt Validator

# Data Reconciliation and Validation Pipeline with OpenAI API

## Overview

This project implements a data reconciliation and validation pipeline designed to compare transaction data against supporting proofs (like receipts or statements). It leverages a "Data Reader" component to ingest and process various data formats, a "Validator" to identify discrepancies and match transactions, and the OpenAI API to potentially generate recommendations for unmatched transactions.

The pipeline takes transaction data and corresponding proofs as input and outputs validated transactions, along with any identified discrepancies and recommendations for unmatched items.

## Architecture

The system consists of the following key components:

1.  **Input:**
    * **Transactions:** A collection of transaction records, each containing information like vendor, date, and amount.
    * **Proofs:** Supporting documents for the transactions, such as receipts or statements, potentially in image or PDF format.

2.  **Data Reader:**
    * **Transaction Statements & Proofs:** This component receives the input transactions and proofs.
    * **Images:** Handles image-based proofs. The diagram doesn't detail specific processing for images, but it feeds into an "Image Payload."
    * **PDFs:** Handles PDF-based proofs.
        * **PyPDF Loader:** A module responsible for reading and extracting text content from PDF files.
        * **PDF Text:** The extracted text from the PDF proofs.
    * **Image Payload & PDF Text:** The processed content from both image and PDF proofs is made available for validation.

3.  **Validator:**
    * **Discrepancy Calculator:** This module compares the transaction data against the information extracted from the proofs. It identifies discrepancies in amounts, dates, or other relevant fields. An example in the diagram shows a "Lego - 2/11/25 - $2 discrepancy."
    * **Transactions Matching:** This module attempts to match individual transactions with corresponding entries in the proofs.
    * **Output (Validator):**
        * **Validated Transactions:** Transactions that have been successfully matched and validated against the proofs.
        * **Discrepancy Information:** Details of any discrepancies found (e.g., "Lego - 2/11/25 - $2 discrepancy").
        * **Unmatched Transactions:** Transactions that could not be matched with any information in the provided proofs.
    * **Recommendation Agent:** This module takes the "Unmatched Transactions" and uses the OpenAI API to potentially generate recommendations (e.g., further investigation, manual review).

4.  **OpenAI API:**
    * The OpenAI API is utilized by the "Recommendation Agent." The diagram shows the API receiving "Business Names, Totals and Dates" and "Unmatched Transactions" as input and providing "Recommendations" as output.

5.  **Output (Overall System):**
    * **Validated Transactions:** A structured output of transactions that have been successfully verified.
    * **Discrepancy:** A record of all identified discrepancies.
    * **Recommendations:** Suggestions generated by the OpenAI API for handling unmatched transactions.
 
